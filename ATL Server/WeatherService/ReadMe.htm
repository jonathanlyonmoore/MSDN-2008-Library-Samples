<!--TO READ THIS HELP FILE, RIGHT-CLICK ON THE FILE NAME IN THE
    SOLUTION EXPLORER PANE AND SELECT "VIEW IN BROWSER"-->

<html><head><title>WeatherService Sample: An XML Web Service Created with ATL Server</title></head><body><h1>WeatherService Sample: An XML Web Service Created with ATL Server</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p /><p>Demonstrates implementing a simple XML Web service using ATL Server attributes and accessing an XML Web service from an MFC-based client application. This sample also shows layered window support available in Windows 2000 and later.</p><p>The WeatherService sample allows access to weather conditions in a variety of cities. The client application demonstrates layered window support, so it requires Windows 2000 or later to run. For best results, set your color depth to 16-bit or better.</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Security Note </th></tr><tr><td><p>This sample code is provided to illustrate a concept and should not be used in applications or Web sites, as it may not illustrate the safest coding practices.</p></td></tr></table></div><h1 class="heading">Requirements</h1><div id="requirementsSection" class="section"><ul><li><p>IIS (client and server)</p></li><li><p>Windows 2000 or later (MFC client only)</p></li></ul></div><h1 class="heading">Building and Running the Sample</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><h4 class="subHeading">To build and run this sample</h4><div class="subSection"><ol><li><p>Open the web service solution WeatherService.sln in the Visual Studio development environment.</p></li><li><p>Build the solution. This will deploy the solution to the local Web server.</p></li><li><p>Open the client solution WeatherServiceClient\wcli.sln.</p></li><li><p>Add a web reference from the client to the web service:</p><ul><li><p>Right-click on the <b>WeatherServiceClient</b> project in the <b>Solution Explorer</b> and select <b>Add Web Reference...</b>.</p></li><li><p>Click the <b>Web services on the local machine</b> link. A list of web services on your machine should appear.</p></li><li><p>Click on the <b>WeatherService</b> link.</p></li><li><p>Change the web reference name from <b>localhost</b> to <b>WeatherService</b> and click <b>Add Reference</b>.</p></li></ul></li><li><p>Build the client solution.</p></li><li><p>Run the client executable file and use the UI to access the weather service.</p></li></ol></div><sections ><h4 class="subHeading" xmlns="">Demonstrates</h4><div class="subSection" xmlns=""><p><MSHelp:link keywords="57D7F506-B69C-4A4B-A03A-5CB8CA77FAD2" tabindex="0" >soap_handler</MSHelp:link> | <MSHelp:link keywords="93C8A7F0-C0D5-42A0-BB6F-02C25054E272" tabindex="0" >request_handler</MSHelp:link> | <MSHelp:link keywords="27E0776C-EE10-4D58-860A-9A37BB3D7F30" tabindex="0" >soap_method</MSHelp:link> | <MSHelp:link keywords="70B3E848-FAD6-4E09-8C72-BE60CA72A4DF" tabindex="0" >export</MSHelp:link> | <MSHelp:link keywords="layerwin" tabindex="0" >Layered Windows</MSHelp:link></p></div></sections></div></div><div id="footer"><div class="footerLine"></div>
          © Microsoft Corporation. All rights reserved.  Send <a href="mailto:DevDocs@microsoft.com?subject=Documentation Feedback :WeatherService Sample: An XML Web Service Created with ATL Server">comments</a> about this topic to Microsoft.
      </div></div></body></html>
