<!--TO READ THIS HELP FILE, RIGHT-CLICK ON THE FILE NAME IN THE
    SOLUTION EXPLORER PANE AND SELECT "VIEW IN BROWSER"-->

<html><head><title>BlobCache Sample: Generic Memory Caching</title></head><body><h1>BlobCache Sample: Generic Memory Caching</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p /><p>Demonstrates the use of the <b>CBlobCache</b> class from within an ATL Server application.</p><p>The BlobCache sample presents a Web page featuring a text input field that accepts numbers from 1 to 100. Entering a number and pressing the Lookup button causes the page to submit the value to the application DLL, which then uses the number as the key for a data item in an in-memory cache. If the cache contains an entry to the given number, the cached value corresponding to the key is returned; otherwise the number is used as an index into a data file containing strings. Regardless of how it was retrieved, the resulting value is displayed in the HTTP response, along with a message indicating whether the retrieved string had been cached.</p><p>This sample demonstrates:  </p><ul><li><p>Using ATL Server's <MSHelp:link keywords="E948ADE7-79B2-4162-9125-701F5BAD5714" tabindex="0" >CBlobCache</MSHelp:link> class to cache generic blocks of memory.</p></li><li><p>Using the <MSHelp:link keywords="B15A3272-915F-48FD-87CD-D5B5135BA176" tabindex="0" >IMemoryCache</MSHelp:link>, <MSHelp:link keywords="5A10F1ED-CAB2-4189-9CA2-B8019988FFA5" tabindex="0" >IMemoryCacheControl</MSHelp:link>, and <MSHelp:link keywords="B8A1F1C8-3A12-4A2D-9C89-D9AADFD560C9" tabindex="0" >IMemoryCacheStats</MSHelp:link> interfaces to manipulate caching entities.</p></li><li><p>Caching server-side data to improve response times.</p></li></ul><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Security Note </th></tr><tr><td><p>This sample code is provided to illustrate a concept and should not be used in applications or Web sites, as it may not illustrate the safest coding practices.</p></td></tr></table></div><h1 class="heading">Requirements</h1><div id="requirementsSection" class="section"><ul><li><p>IIS</p></li></ul></div><h1 class="heading">Building and Running the Sample</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><h4 class="subHeading">To build and run this sample</h4><div class="subSection"><ol><li><p>Open the solution file, BlobCache.sln, in the Visual Studio development environment.</p></li><li><p>Build the solution. This will also deploy the solution to the local Web server.</p></li><li><p>Use a Web browser to view http://localhost/blobcache/blobcache.srf.</p></li><li><p>Enter a numeric value between 1 and 100 and click the Lookup button. See how varying or repeating requests for items affects the cache statistics displayed on the page.</p></li></ol></div><sections ><h4 class="subHeading" xmlns="">Demonstrates</h4><div class="subSection" xmlns=""><p><MSHelp:link keywords="E948ADE7-79B2-4162-9125-701F5BAD5714" tabindex="0" >CBlobCache</MSHelp:link> | <MSHelp:link keywords="D9D940D1-0378-415E-A64D-BDB9777D3D1D" tabindex="0" >CBlobCache::Initialize</MSHelp:link> | <MSHelp:link keywords="A12ABEAA-8ADE-44BA-9437-AFD09B784A87" tabindex="0" >CBlobCache::QueryInterface</MSHelp:link> | <MSHelp:link keywords="B7E14A93-469D-43E6-BE20-E85F999C7F34" tabindex="0" >CBlobCache::Uninitialize</MSHelp:link> | <MSHelp:link keywords="E9D3DA6D-C33C-4A12-9532-265750B901DE" tabindex="0" >CHttpRequest::GetPhysicalPath</MSHelp:link> | <MSHelp:link keywords="B15A3272-915F-48FD-87CD-D5B5135BA176" tabindex="0" >IMemoryCache</MSHelp:link> | <MSHelp:link keywords="E2306361-2F7D-4674-8FB0-8A93D7A35F08" tabindex="0" >IMemoryCache::Add</MSHelp:link> | <MSHelp:link keywords="5B0F528C-F7D1-4D77-9B84-6AB76A616102" tabindex="0" >IMemoryCache::Flush</MSHelp:link> | <MSHelp:link keywords="A369B157-F171-4160-A4DE-AEE2833898DE" tabindex="0" >IMemoryCache::GetData</MSHelp:link> | <MSHelp:link keywords="8F909B3F-4CBA-4C19-9BDA-24FC5EA8EB81" tabindex="0" >IMemoryCache::LookupEntry</MSHelp:link> | <MSHelp:link keywords="8A4B9B71-3628-4965-95A4-4A6F0FDA2E3A" tabindex="0" >IMemoryCache::ReleaseEntry</MSHelp:link> | <MSHelp:link keywords="AB2BAB29-071D-4F71-BEE6-9DB6B671076D" tabindex="0" >IMemoryCacheClient</MSHelp:link> | <MSHelp:link keywords="1DC151DE-6C70-45D3-99AF-F114F7BC29AD" tabindex="0" >IMemoryCacheClient::Free</MSHelp:link> | <MSHelp:link keywords="5A10F1ED-CAB2-4189-9CA2-B8019988FFA5" tabindex="0" >IMemoryCacheControl</MSHelp:link> | <MSHelp:link keywords="B4ACF348-D790-41C1-980F-ED3570CA65A4" tabindex="0" >IMemoryCacheControl::GetMaxAllowedEntries</MSHelp:link> | <MSHelp:link keywords="3438F7B0-23C3-4844-A657-3F77CD40D7FE" tabindex="0" >IMemoryCacheControl::ResetCache</MSHelp:link> | <MSHelp:link keywords="9EB6733D-44F6-42FD-AB37-FC98B1F7A8FC" tabindex="0" >IMemoryCacheControl::SetMaxAllowedEntries</MSHelp:link> | <MSHelp:link keywords="B8A1F1C8-3A12-4A2D-9C89-D9AADFD560C9" tabindex="0" >IMemoryCacheStats</MSHelp:link> | <MSHelp:link keywords="313F4300-A50D-48D9-AAB4-14E473D85677" tabindex="0" >IMemoryCacheStats::ClearStats</MSHelp:link> | <MSHelp:link keywords="97E7FB64-ADB1-48AC-B4C7-6E41D6F57FCA" tabindex="0" >IMemoryCacheStats::GetCurrentEntryCount</MSHelp:link> | <MSHelp:link keywords="AF2C78C9-2BFD-4313-905D-4816E7E8BEAA" tabindex="0" >IMemoryCacheStats::GetHitCount</MSHelp:link> | <MSHelp:link keywords="146E227A-1210-437A-B847-A8599EFB9AAB" tabindex="0" >IMemoryCacheStats::GetMaxEntryCount</MSHelp:link> | <MSHelp:link keywords="C0AC6E19-BFF2-4A6D-A261-D348A28C8420" tabindex="0" >IMemoryCacheStats::GetMissCount</MSHelp:link></p></div></sections></div></div><div id="footer"><div class="footerLine"></div>
          © Microsoft Corporation. All rights reserved.  Send <a href="mailto:DevDocs@microsoft.com?subject=Documentation Feedback :BlobCache Sample: Generic Memory Caching">comments</a> about this topic to Microsoft.
      </div></div></body></html>
