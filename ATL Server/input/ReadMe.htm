<!--TO READ THIS HELP FILE, RIGHT-CLICK ON THE FILE NAME IN THE
    SOLUTION EXPLORER PANE AND SELECT "VIEW IN BROWSER"-->

<html><head><title>Input Sample: Demonstrates User Input Validation On Client And Server</title></head><body><h1>Input Sample: Demonstrates User Input Validation On Client And Server</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p /><p>Demonstrates validation of user input on both client and server.</p><p>The Input sample shows how to use the following classes to validate user input: <MSHelp:link keywords="7423717B-B3D5-42A7-AF98-46B0E6356449" tabindex="0" >CAtlRegExp</MSHelp:link>, <MSHelp:link keywords="B04C2CBD-ECC1-4FF3-8451-23FB052DC913" tabindex="0" >CAtlREMatchContext</MSHelp:link>, <MSHelp:link keywords="D793C8E1-3FCC-4450-ABB9-DC960421F9D6" tabindex="0" >CValidateContext</MSHelp:link>, <MSHelp:link keywords="551545E0-1F88-4906-870D-81F4DE1A6D20" tabindex="0" >CHttpRequestParams</MSHelp:link>.</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Security Note </th></tr><tr><td><p>This sample code is provided to illustrate a concept and should not be used in applications or Web sites, as it may not illustrate the safest coding practices.</p></td></tr></table></div><h1 class="heading">Requirements</h1><div id="requirementsSection" class="section"><p>IIS 4 or later running on Windows NT 4.0 or later</p></div><h1 class="heading">Building and Running the Sample</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><h4 class="subHeading">To build and run this sample</h4><div class="subSection"><ol><li><p>Open the solution file, Input.sln, in the Visual Studio development environment.</p></li><li><p>Build the solution. This will also deploy the solution to the local Web server.</p></li><li><p>Use a Web browser to view http://localhost/input/input.srf.</p></li></ol></div></div><h1 class="heading">Concepts Presented in the Sample</h1><div id="sectionSection1" class="seeAlsoNoToggleSection"><p>Three key concepts are presented in this sample:  </p><ul><li><p>Separation of developer and designer tasks</p></li><li><p>User-input validation on client and server</p></li><li><p>Reuse of regular expression validation routines</p></li></ul><sections ><h4 class="subHeading" xmlns="">Separation of Developer and Designer Tasks</h4><div class="subSection" xmlns=""><p>The ATL Server architecture was designed so that the developer needs only to pass a list of the stencil tags to be used to the HTML designer. This makes it possible for the HTML designer to focus on the presentation requirements of the Web page, without having to worry about the implementation details of validation or data retrieval. The developer can then more productively spend time writing C++ code. This sample shows how to achieve a good separation of form and function using some generic stencil tags.</p></div><h4 class="subHeading" xmlns="">Validation on Client and Server</h4><div class="subSection" xmlns=""><p>Modern browsers that support scripting can be used to enhance the user experience by validating input before it is even submitted to the server. Validation on the client provides a convenient way for the user to correct input mistakes and prevents unnecessary round trips to the server.</p><p>However, validation on the client cannot be trusted as a security measure, because it is trivial for malicious users to send an HTTP query that bypasses the validation code contained in script, so server-side validation is still essential. ATL Server request handlers should typically add validation code to the <b>ValidateAndExchange</b> method of the request handler.</p><p>This sample demonstrates a class that provides methods to output client validation code as well as perform server validation inside the <b>ValidateAndExchange</b> method of the request handler.</p></div><h4 class="subHeading" xmlns="">Regular Expression Validation Routines</h4><div class="subSection" xmlns=""><p>The validation routines in this sample are based on the principle that it is safer to verify that input data conforms to a known good pattern than to try to catch all the bad patterns. Equivalent regular expressions are provided for <MSHelp:link keywords="7423717B-B3D5-42A7-AF98-46B0E6356449" tabindex="0" >CAtlRegExp</MSHelp:link> on the server and JScript on the client.</p></div><h4 class="subHeading" xmlns="">Demonstrates</h4><div class="subSection" xmlns=""><p><MSHelp:link keywords="BA21EF5D-1F54-4F01-A116-0D3FF4D90BA5" tabindex="0" >CAtlRECharTraitsA</MSHelp:link> | <MSHelp:link keywords="7423717B-B3D5-42A7-AF98-46B0E6356449" tabindex="0" >CAtlRegExp</MSHelp:link> | <MSHelp:link keywords="8B4A9430-42DE-423B-B5B5-B9CFF309FEC1" tabindex="0" >CAtlRegExp::Match</MSHelp:link> | <MSHelp:link keywords="E3EC0F15-7770-41FE-B408-CDDDBC3ACDDA" tabindex="0" >CAtlRegExp::Parse</MSHelp:link> | <MSHelp:link keywords="B04C2CBD-ECC1-4FF3-8451-23FB052DC913" tabindex="0" >CAtlREMatchContext</MSHelp:link> | <MSHelp:link keywords="D0CA936D-73EC-45D1-BF29-F3E462A01907" tabindex="0" >CHttpRequest::GetFormVars</MSHelp:link> | <MSHelp:link keywords="551545E0-1F88-4906-870D-81F4DE1A6D20" tabindex="0" >CHttpRequestParams</MSHelp:link> | <MSHelp:link keywords="DA804EED-D95B-4FEB-B6F1-1A87D814FD98" tabindex="0" >CHttpRequestParams::Lookup</MSHelp:link> | <MSHelp:link keywords="2BB23AC7-0C75-4B66-A10C-1ECFBBE45620" tabindex="0" >CRequestHandlerT::ValidateAndExchange</MSHelp:link> | <MSHelp:link keywords="D793C8E1-3FCC-4450-ABB9-DC960421F9D6" tabindex="0" >CValidateContext</MSHelp:link> | <MSHelp:link keywords="479F369D-8DA4-4FAC-9BD0-EC9A20988001" tabindex="0" >CValidateContext::ParamsOK</MSHelp:link> | <MSHelp:link keywords="877B56AA-2AB4-4B52-92A9-04D9B2AE6B3A" tabindex="0" >CValidateObject::Validate</MSHelp:link> | <MSHelp:link keywords="93C8A7F0-C0D5-42A0-BB6F-02C25054E272" tabindex="0" >request_handler</MSHelp:link> | <MSHelp:link keywords="22300601-E0AC-46DA-A117-F490E2DBF5EA" tabindex="0" >tag_name</MSHelp:link></p></div></sections></div></div><div id="footer"><div class="footerLine"></div>
          © Microsoft Corporation. All rights reserved.  Send <a href="mailto:DevDocs@microsoft.com?subject=Documentation Feedback :Input Sample: Demonstrates User Input Validation On Client And Server">comments</a> about this topic to Microsoft.
      </div></div></body></html>
